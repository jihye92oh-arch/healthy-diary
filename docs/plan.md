# Healthy Diary - 개발 로드맵

## 프로젝트 개요
건강한 다이어트 습관 형성을 돕는 개인 맞춤형 건강 관리 플랫폼

### 핵심 기능
- 식단/운동 기록 및 칼로리 자동 계산
- 개인 목표 설정 및 진행률 트래킹
- AI 기반 계절별 맞춤 식단/운동 추천
- 날씨 고려한 실내외 운동 추천

---

## GUI 구조 설계

### 상단 메뉴 탭 구성
```
┌─────────────────────────────────────────────────────────────┐
│  🏠 홈  │  📝 기록  │  📊 분석  │  🎯 목표  │  💡 추천  │  ⚙️ 설정  │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│                     메인 컨텐츠 영역                           │
│                                                               │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

### 각 탭별 화면 구성

#### 1️⃣ 홈 (Dashboard)
```
┌──────────────────────────────────────────┐
│  오늘의 요약                              │
│  ├─ 섭취 칼로리: 1,200 / 2,000 kcal      │
│  ├─ 소모 칼로리: 450 kcal                │
│  ├─ 남은 칼로리: 350 kcal                │
│  └─ 물 섭취량: 1.5L / 2L                 │
├──────────────────────────────────────────┤
│  빠른 기록                                │
│  [식사 추가] [운동 추가] [물 마시기]      │
├──────────────────────────────────────────┤
│  오늘의 추천                              │
│  🌤️ 날씨: 맑음 20°C                     │
│  💡 실외 운동 추천: 조깅 30분             │
│  🥗 추천 식단: 제철 샐러드               │
└──────────────────────────────────────────┘
```

#### 2️⃣ 기록 (Logging)
```
┌──────────────────────────────────────────┐
│  날짜 선택: [◀ 2024-01-15 ▶]            │
├──────────────────────────────────────────┤
│  🍽️ 식단 기록                            │
│  ┌────────────────────────────────────┐  │
│  │ 아침 (400 kcal)                    │  │
│  │ ├─ 현미밥 (200 kcal)               │  │
│  │ └─ 계란후라이 (200 kcal)           │  │
│  │ [+ 식사 추가]                      │  │
│  └────────────────────────────────────┘  │
├──────────────────────────────────────────┤
│  💪 운동 기록                             │
│  ┌────────────────────────────────────┐  │
│  │ 러닝 30분 (250 kcal)               │  │
│  │ 시간: 오전 7:00                    │  │
│  │ [+ 운동 추가]                      │  │
│  └────────────────────────────────────┘  │
├──────────────────────────────────────────┤
│  💧 수분 섭취                             │
│  ○○○○○○○○ (8잔)                        │
└──────────────────────────────────────────┘
```

#### 3️⃣ 분석 (Analytics)
```
┌──────────────────────────────────────────┐
│  기간 선택: [주간 ▼] [월간] [연간]       │
├──────────────────────────────────────────┤
│  📈 칼로리 추이                           │
│  ┌────────────────────────────────────┐  │
│  │      (그래프 영역)                 │  │
│  │   섭취 vs 소모 칼로리 차트         │  │
│  └────────────────────────────────────┘  │
├──────────────────────────────────────────┤
│  ⚖️ 체중 변화                            │
│  ┌────────────────────────────────────┐  │
│  │      (그래프 영역)                 │  │
│  │   목표 체중 vs 현재 체중           │  │
│  └────────────────────────────────────┘  │
├──────────────────────────────────────────┤
│  📊 통계 요약                             │
│  ├─ 평균 일일 섭취: 1,850 kcal           │
│  ├─ 평균 운동 시간: 45분                 │
│  ├─ 목표 달성률: 85%                     │
│  └─ 체중 감량: -2.5kg                    │
└──────────────────────────────────────────┘
```

#### 4️⃣ 목표 (Goals)
```
┌──────────────────────────────────────────┐
│  현재 목표                                │
│  ┌────────────────────────────────────┐  │
│  │ 목표 체중: 65kg (현재: 70kg)       │  │
│  │ 진행률: ████████░░ 50%             │  │
│  │ 목표일: 2024-03-15 (60일 남음)     │  │
│  └────────────────────────────────────┘  │
├──────────────────────────────────────────┤
│  세부 목표 설정                           │
│  ├─ 일일 칼로리: 2,000 kcal [수정]       │
│  ├─ 주간 운동: 5회 [수정]                │
│  ├─ 체중 감량 속도: 주당 0.5kg [수정]    │
│  └─ 수분 섭취: 2L/일 [수정]              │
├──────────────────────────────────────────┤
│  마일스톤                                 │
│  ✅ 1주차: 습관 형성 완료                │
│  ✅ 2주차: -1kg 달성                     │
│  🔄 4주차: -2kg 목표 (진행중)            │
│  ⏳ 8주차: -4kg 목표                     │
└──────────────────────────────────────────┘
```

#### 5️⃣ 추천 (Recommendations)
```
┌──────────────────────────────────────────┐
│  🌸 계절별 추천 (현재: 봄)                │
├──────────────────────────────────────────┤
│  🥗 식단 추천                             │
│  ┌────────────────────────────────────┐  │
│  │ 봄나물 비빔밥                      │  │
│  │ 칼로리: 450 kcal                   │  │
│  │ 재료: 냉이, 달래, 현미밥...        │  │
│  │ [레시피 보기] [식단에 추가]        │  │
│  └────────────────────────────────────┘  │
├──────────────────────────────────────────┤
│  💪 운동 추천                             │
│  🌤️ 오늘 날씨: 맑음 20°C (실외 추천)    │
│  ┌────────────────────────────────────┐  │
│  │ 한강 조깅 코스                     │  │
│  │ 소모 칼로리: 300 kcal (30분)       │  │
│  │ 난이도: ⭐⭐⭐                      │  │
│  │ [상세 보기] [운동 시작]            │  │
│  └────────────────────────────────────┘  │
│  🌧️ 비 올 경우 실내 대안               │
│  └─ 홈 트레이닝 (스쿼트, 플랭크 등)      │
├──────────────────────────────────────────┤
│  🤖 AI 맞춤 조언                          │
│  "최근 탄수화물 섭취가 높습니다.          │
│   저녁에는 단백질 위주 식사를 추천해요!"  │
└──────────────────────────────────────────┘
```

#### 6️⃣ 설정 (Settings)
```
┌──────────────────────────────────────────┐
│  개인 정보                                │
│  ├─ 이름: 홍길동                         │
│  ├─ 성별: 남성                           │
│  ├─ 생년월일: 1990-01-01                 │
│  ├─ 키: 175cm                            │
│  └─ 활동 수준: 보통 활동적               │
├──────────────────────────────────────────┤
│  알림 설정                                │
│  ├─ ☑ 식사 시간 알림 (8시, 12시, 18시)   │
│  ├─ ☑ 물 마시기 알림 (2시간마다)         │
│  ├─ ☑ 운동 알림 (매일 19시)              │
│  └─ ☑ 일일 리포트 (22시)                 │
├──────────────────────────────────────────┤
│  데이터 관리                              │
│  ├─ [데이터 내보내기]                    │
│  ├─ [데이터 가져오기]                    │
│  └─ [모든 데이터 초기화]                 │
├──────────────────────────────────────────┤
│  기타                                     │
│  ├─ 테마: [라이트 ▼]                     │
│  ├─ 언어: 한국어                         │
│  └─ 버전: 1.0.0                          │
└──────────────────────────────────────────┘
```

---

## 기능 구현 로드맵

### Phase 1: 기본 인프라 구축 (1-2주)

#### Week 1: 프로젝트 설정
- [ ] **개발 환경 설정**
  - Python 개발 환경 구축
  - GUI 프레임워크 선택 (PyQt5/Tkinter/Kivy)
  - 프로젝트 구조 설계
  - Git 저장소 초기화

- [ ] **데이터베이스 설계**
  - SQLite/PostgreSQL 스키마 설계
  - 테이블 정의 (사용자, 식단, 운동, 목표 등)
  - ORM 설정 (SQLAlchemy)

#### Week 2: 기본 GUI 구현
- [x] **메인 윈도우 구현**
  - 상단 탭 메뉴 구조 생성
  - 각 탭별 빈 화면 레이아웃
  - 탭 전환 기능 구현

- [x] **디자인 시스템**
  - 색상 팔레트 정의
  - 공통 컴포넌트 스타일
  - 반응형 레이아웃 기본 설정

---

### Phase 2: 핵심 기능 구현 (3-6주)

#### Week 3-4: 기록 기능
- [x] **식단 기록**
  - 식사 추가/수정/삭제 기능
  - 음식 데이터베이스 구축 (칼로리 정보)
  - 음식 검색 기능
  - 식사별 분류 (아침/점심/저녁/간식)
  - 칼로리 자동 계산

- [x] **운동 기록**
  - 운동 추가/수정/삭제 기능
  - 운동 데이터베이스 구축 (소모 칼로리)
  - 운동 시간 및 강도 기록
  - 칼로리 소모량 자동 계산

- [x] **수분 섭취 기록**
  - 물 섭취량 트래킹
  - 목표 대비 진행률 표시
  - 빠른 기록 버튼

#### Week 5: 홈 대시보드
- [x] **오늘의 요약 위젯**
  - 실시간 칼로리 계산 표시
  - 진행률 바 구현
  - 목표 대비 현황 표시

- [x] **빠른 기록 버튼**
  - 홈에서 바로 기록 가능한 UI
  - 모달/팝업 형식 입력 폼

#### Week 6: 목표 설정 및 관리
- [x] **개인 정보 입력**
  - 나이, 성별, 키, 체중, 활동 수준
  - BMR/TDEE 자동 계산

- [x] **목표 설정**
  - 목표 체중 설정
  - 목표 달성 날짜 설정
  - 일일 칼로리 목표 자동 계산
  - 주간 운동 목표 설정

- [x] **진행률 트래킹**
  - 목표 대비 진행률 계산
  - 마일스톤 설정 및 관리
  - 목표 달성 알림

---

### Phase 3: 분석 및 시각화 (7-8주)

#### Week 7: 데이터 분석
- [x] **통계 계산 모듈**
  - 일일/주간/월간 평균 계산
  - 목표 달성률 계산
  - 체중 변화 추이 분석

- [x] **차트 구현**
  - Recharts 통합 (Matplotlib 대신)
  - 칼로리 섭취/소모 추이 그래프
  - 체중 변화 그래프
  - 운동 빈도 차트

#### Week 8: 리포트 기능
- [ ] **일일/주간/월간 리포트**
  - PDF 리포트 생성
  - 요약 통계 표시
  - 인사이트 제공

---

### Phase 4: AI 및 고급 기능 (9-12주)

#### Week 9-10: AI 추천 시스템 기반 구축
- [x] **식단 추천 엔진**
  - 계절별 제철 식재료 데이터베이스
  - 사용자 선호도 학습 알고리즘
  - 칼로리 맞춤 식단 생성
  - 영양소 균형 고려

- [x] **운동 추천 엔진**
  - 사용자 운동 이력 분석
  - 체력 수준별 운동 난이도 조정
  - 운동 다양성 제공

#### Week 11: 날씨 연동 기능
- [x] **날씨 API 연동**
  - OpenWeatherMap API 연동
  - 실시간 날씨 정보 가져오기
  - 위치 기반 날씨 표시

- [x] **날씨 기반 운동 추천**
  - 날씨 조건별 실내/실외 운동 추천
  - 온도, 강수량 고려
  - 대안 운동 제시

#### Week 12: AI 개인화
- [x] **개인화된 조언 생성**
  - 사용자 패턴 분석
  - 맞춤 조언 생성

- [ ] **챗봇/AI 어시스턴트**
  - 질문 응답 기능 (향후 구현)
  - 식단/운동 조언 제공

---

### Phase 5: UX 개선 및 부가 기능 (13-14주)

#### Week 13: 사용자 경험 개선
- [x] **알림 시스템**
  - 식사 시간 알림
  - 물 마시기 알림
  - 운동 알림
  - 목표 달성 축하 알림

- [x] **데이터 백업/복원**
  - 로컬 백업 기능
  - CSV/JSON 내보내기
  - 데이터 가져오기

- [x] **테마 및 설정**
  - 라이트/다크 모드
  - 폰트 크기 조절 (향후 구현)
  - 언어 설정 (향후 구현)

#### Week 14: 추가 기능
- [ ] **바코드 스캔**
  - 식품 바코드 스캔으로 영양정보 자동 입력
  - OpenFoodFacts API 연동

- [ ] **사진 기록**
  - 식사 사진 업로드
  - 비포/애프터 사진 관리

- [ ] **소셜 기능 (선택)**
  - 친구와 목표 공유
  - 챌린지 기능

---

### Phase 6: 테스트 및 배포 (15-16주)

#### Week 15: 테스트
- [ ] **단위 테스트**
  - 핵심 기능 테스트 코드 작성
  - pytest 프레임워크 활용

- [ ] **통합 테스트**
  - 전체 워크플로우 테스트
  - 사용자 시나리오 기반 테스트

- [ ] **사용자 테스트**
  - 베타 테스터 모집
  - 피드백 수집 및 반영

#### Week 16: 배포 준비
- [ ] **성능 최적화**
  - 데이터베이스 쿼리 최적화
  - UI 렌더링 성능 개선
  - 메모리 사용량 최적화

- [ ] **문서화**
  - 사용자 가이드 작성
  - 개발자 문서 작성
  - README 및 라이선스 정리

- [ ] **배포**
  - 실행 파일 빌드 (PyInstaller)
  - 설치 프로그램 생성
  - 첫 버전 릴리스 (v1.0.0)

---

## 기술 스택 추천

### Frontend (GUI)
- **PyQt5** / **PySide6**: 전문적인 네이티브 앱 UI
- **Tkinter**: 가볍고 간단한 GUI (초보자 친화적)
- **Kivy**: 크로스 플랫폼 (모바일 확장 고려시)
- **CustomTkinter**: 현대적인 Tkinter UI

### Backend
- **Python 3.10+**: 메인 언어
- **SQLAlchemy**: ORM
- **SQLite**: 로컬 데이터베이스 (초기) / PostgreSQL (확장시)
- **Pydantic**: 데이터 검증

### 데이터 분석 & 시각화
- **Pandas**: 데이터 처리
- **NumPy**: 수치 계산
- **Matplotlib** / **Plotly**: 차트 생성
- **Seaborn**: 통계 시각화

### AI/ML
- **scikit-learn**: 머신러닝 알고리즘
- **TensorFlow** / **PyTorch**: 딥러닝 (고급 기능)
- **Transformers**: LLM 통합 (선택)

### 외부 API
- **OpenWeatherMap API**: 날씨 정보
- **OpenFoodFacts API**: 식품 영양정보
- **Google Gemini API** / **OpenAI API**: AI 추천 강화

### 기타 도구
- **Pillow**: 이미지 처리
- **python-barcode** / **pyzbar**: 바코드 스캔
- **APScheduler**: 스케줄링 및 알림
- **pytest**: 테스트
- **PyInstaller**: 실행 파일 빌드

---

## 데이터베이스 스키마 (초안)

```sql
-- 사용자 테이블
CREATE TABLE users (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    gender TEXT,
    birth_date DATE,
    height REAL,
    current_weight REAL,
    activity_level TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 목표 테이블
CREATE TABLE goals (
    id INTEGER PRIMARY KEY,
    user_id INTEGER,
    target_weight REAL,
    target_date DATE,
    daily_calorie_goal INTEGER,
    weekly_exercise_goal INTEGER,
    created_at TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

-- 식단 기록 테이블
CREATE TABLE meal_logs (
    id INTEGER PRIMARY KEY,
    user_id INTEGER,
    date DATE NOT NULL,
    meal_type TEXT, -- breakfast, lunch, dinner, snack
    food_name TEXT NOT NULL,
    calories REAL NOT NULL,
    protein REAL,
    carbs REAL,
    fat REAL,
    created_at TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

-- 운동 기록 테이블
CREATE TABLE exercise_logs (
    id INTEGER PRIMARY KEY,
    user_id INTEGER,
    date DATE NOT NULL,
    exercise_name TEXT NOT NULL,
    duration_minutes INTEGER,
    calories_burned REAL,
    intensity TEXT, -- low, medium, high
    created_at TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

-- 체중 기록 테이블
CREATE TABLE weight_logs (
    id INTEGER PRIMARY KEY,
    user_id INTEGER,
    date DATE NOT NULL,
    weight REAL NOT NULL,
    created_at TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

-- 수분 섭취 테이블
CREATE TABLE water_logs (
    id INTEGER PRIMARY KEY,
    user_id INTEGER,
    date DATE NOT NULL,
    amount_ml INTEGER NOT NULL,
    created_at TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

-- 음식 데이터베이스
CREATE TABLE foods (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    calories_per_100g REAL,
    protein_per_100g REAL,
    carbs_per_100g REAL,
    fat_per_100g REAL,
    category TEXT,
    season TEXT -- spring, summer, fall, winter, all
);

-- 운동 데이터베이스
CREATE TABLE exercises (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    calories_per_minute REAL,
    category TEXT, -- cardio, strength, flexibility
    indoor BOOLEAN,
    outdoor BOOLEAN,
    difficulty TEXT -- easy, medium, hard
);
```

---

## 우선순위 기능

### 🔴 필수 기능 (MVP)
1. 식단/운동 기록 및 칼로리 계산
2. 기본 대시보드
3. 목표 설정 및 진행률 표시
4. 간단한 통계 및 그래프

### 🟡 중요 기능
1. AI 기반 식단/운동 추천
2. 날씨 연동 운동 추천
3. 알림 시스템
4. 데이터 백업/복원

### 🟢 부가 기능
1. 바코드 스캔
2. 사진 기록
3. 소셜 기능
4. 다국어 지원

---

## 성공 지표 (KPI)

- **사용자 정착률**: 첫 2주 이상 지속 사용률 > 60%
- **목표 달성률**: 설정한 목표 달성 사용자 > 40%
- **일일 활성 사용자**: 하루 1회 이상 기록하는 사용자 > 70%
- **만족도**: 사용자 평가 평균 > 4.0/5.0

---

## 리스크 관리

### 기술적 리스크
- **AI 모델 성능**: 초기에는 규칙 기반 추천으로 시작, 점진적으로 ML 도입
- **데이터 정확성**: 신뢰할 수 있는 영양정보 DB 확보 필요
- **성능 이슈**: 대용량 데이터 처리 시 최적화 필요

### 일정 리스크
- **일정 지연**: 핵심 기능 우선, 부가 기능은 이후 버전으로 연기 가능
- **기술 학습 곡선**: 미리 프로토타입으로 기술 검증

---

## 다음 단계

1. ✅ 개발 로드맵 확정
2. ⏭️ GUI 프레임워크 선택 및 프로토타입 제작
3. ⏭️ 데이터베이스 스키마 구현
4. ⏭️ Phase 1 개발 시작

---

**버전**: 1.0
**작성일**: 2024-02-03
**다음 업데이트**: Phase 1 완료 후
